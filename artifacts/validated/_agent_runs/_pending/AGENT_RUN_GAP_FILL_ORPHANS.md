# Agent Run: Gap Fill — Orphan Artifact Triage

**Operation:** NAMI Clearlane / VECTOR 1  
**Mode:** Gap Filling  
**Target:** 59 orphan artifacts with no linkages

## Mission

Review orphan artifacts (those with no incoming or outgoing linkages) and either:
1. **Link them** by adding references to existing artifacts
2. **Create complementary artifacts** that would link to them
3. **Mark for deletion** if they're duplicates or invalid

This is triage, not exhaustive cycling.

## What Makes an Orphan?

An orphan artifact has:
- No `governs[]` entries pointing to other artifacts (authorities)
- No `section` pointing to a money_flow (evidence)
- No `evidence_basis[]` pointing to other artifacts (validations)
- No other artifact references it in any field

## Orphan List to Triage

These artifacts were identified as orphans. For each:
1. Read the artifact content
2. Determine if it should link to existing artifacts
3. Either update it with links OR create new artifacts that link to it

### Authorities Without Governance Links

| Artifact | Action Needed |
|----------|---------------|
| AUTH-AR-ACA-19-1-101-CONTRACTS | Add `governs[]` with money flows it authorizes |
| AUTH-AR-ACA-19-4-101 | Add `governs[]` linking to budget/appropriation flows |
| AUTH-AR-LEGISLATIVE-COUNCIL-REVIEW | Add `governs[]` for oversight flows |
| AUTH-US-21-USC-1521-ETSEQ-DFC | Add `governs[]` for DFC grant flows |
| AUTH-US-26-CFR-1-468B-1 | Add `governs[]` for QSF-related flows |
| AUTH-US-IRC-26-USC-468B | Add `governs[]` for settlement fund flows |

### Evidence Without Section Links

| Artifact | Action Needed |
|----------|---------------|
| EVID-AR-ACHI-OPIOID-SETTLEMENT-PRINCIPLES-2022-08 | Set `section` to ARORP flows |
| EVID-US-USCODE-DFC-PART-A | Set `section` to DFC grant authorities |
| EVID-AR-MOU-WIOA | Set `section` to workforce flows if exists |
| EVID-AR-ISP-2021-107-CONTRACTS | Set `section` to procurement flows |

### Stubs in `_stubs/` Folder

Stubs are placeholder artifacts generated by gap_analyzer. They contain `[GAP STUB - ...]` text.

For each stub in `_stubs/`:
1. Research the actual information
2. Replace placeholder text with real data
3. Remove `_gap_metadata` field
4. Move to proper category folder

## How to Fix Orphans

### Option A: Add Links to Existing Artifacts

Update the orphan's linking fields:

**For authorities:**
```json
{
  "authority_id": "AUTH-AR-...",
  "governs": ["MF-AR-RELATED-FLOW-1", "MF-AR-RELATED-FLOW-2"],
  ...
}
```

**For evidence:**
```json
{
  "evidence_id": "EVID-AR-...",
  "section": "MF-AR-FLOW-THIS-SUPPORTS",
  ...
}
```

### Option B: Create New Linking Artifacts

If the orphan should be linked but no target exists, create the target:
- Orphan authority → Create money_flow it governs
- Orphan evidence → Create money_flow or authority it supports

## Output Format

Return two arrays:

1. **Updates to existing orphans** (artifacts with new link fields):
```json
{
  "updates": [
    {
      "artifact_id": "AUTH-AR-...",
      "add_governs": ["MF-AR-...", "MF-AR-..."]
    },
    {
      "artifact_id": "EVID-AR-...",
      "set_section": "MF-AR-..."
    }
  ]
}
```

2. **New artifacts to create** (standard artifact JSON):
```json
{
  "new_artifacts": [
    { "flow_id": "MF-AR-...", ... },
    { "authority_id": "AUTH-AR-...", ... }
  ]
}
```

3. **Deletion candidates** (orphans that are duplicates or invalid):
```json
{
  "delete_candidates": [
    { "artifact_id": "...", "reason": "Duplicate of ..." }
  ]
}
```

## After Completion

Save output to: `_agent_runs/batch_orphan_triage.json`

Review updates manually, then run:
```powershell
python scripts/linkage_analyzer.py --summary
```
